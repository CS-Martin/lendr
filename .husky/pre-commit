#!/bin/sh

echo 'ğŸ‘·â€â™‚ï¸ Starting pre-commit checks...'

STAGED_FILES=$(git diff --cached --name-only)
echo 'ğŸ” Staged files:'
echo "$STAGED_FILES"

echo 'ğŸ“¦ Changes detected in /api...'
echo 'ğŸ§¹ Linting API service...'
bun lint || exit 1
echo 'ğŸ¨ Formatting API service...'
bun format || exit 1

echo 'âœ… All relevant checks passed. Proceeding with commit. ğŸš€'